{% extends "layouts/admin_base.html" %}

{% block title %}Pet Care Management - Admin Dashboard{% endblock %}

{% block page_title %}Welcome, {{ session['full_name'] }} ðŸ‘‹{% endblock %}

{% block content %}
<div class="row g-4">
  <div class="col-md-3">
    <div class="card text-center p-3">
      <i class="bi bi-people-fill text-primary" style="font-size: 2rem;"></i>
      <h5 class="mt-2">Users</h5>
      <p class="text-muted">{{ total_users }}</p>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-center p-3">
      <i class="bi bi-heart-fill text-danger" style="font-size: 2rem;"></i>
      <h5 class="mt-2">Pets</h5>
      <p class="text-muted">{{ total_pets }}</p>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-center p-3">
      <i class="bi bi-calendar-event text-success" style="font-size: 2rem;"></i>
      <h5 class="mt-2">Appointments</h5>
      <p class="text-muted">{{ total_appointments }}</p>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-center p-3">
      <i class="bi bi-bandaid-fill text-warning" style="font-size: 2rem;"></i>
      <h5 class="mt-2">Medical Records</h5>
      <p class="text-muted">{{ total_records }}</p>
    </div>
  </div>
</div>

<div class="mt-5">
  <h4>Recent Activity</h4>
  <div class="card p-3 mt-3">
    {% if recent_activities|length > 0 %}
    <ul class="list-group list-group-flush">
      {% for activity in recent_activities %}
      <li class="list-group-item">
        <i class="bi bi-{{ 'person-plus' if activity.activity_type == 'User Registration' else 'heart' if activity.activity_type == 'Pet Added' else 'calendar-event' }} text-{{ 'primary' if activity.activity_type == 'User Registration' else 'danger' if activity.activity_type == 'Pet Added' else 'success' }}"></i>
        {{ activity.details }} <small class="text-muted">- {{ activity.activity_date.strftime('%d %b %Y') }}</small>
      </li>
      {% endfor %}
    </ul>
    {% else %}
    <p class="text-muted mb-0">No recent activities found.</p>
    {% endif %}
  </div>
</div>
{% endblock %}